import{j as e}from"./tactical-components-ecb51026.js";import{r as a,u as s,L as t}from"./react-vendor-e58626de.js";import{I as i,e as r,A as n,L as l,k as d,l as o,F as c,X as m,m as x,n as h,o as g,p as u,q as p,r as b,s as v}from"./ui-vendor-b7f86872.js";import{a as j,b as N}from"../assets/index-78679082.js";import"./map-vendor-95ccbafd.js";import"./geo-vendor-30c39c1d.js";import"./emergency-services-9499df0c.js";import"@azure/ai-text-analytics";import"@azure/ai-anomaly-detector";import"@azure/core-auth";const f=({biodiversityData:s,className:t=""})=>{const[c,m]=a.useState(null),[x,h]=a.useState("species"),g=e=>{switch(e){case"CR":return"text-red-600 bg-red-100";case"EN":return"text-orange-600 bg-orange-100";case"VU":return"text-yellow-600 bg-yellow-100";case"NT":return"text-blue-600 bg-blue-100";case"LC":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},u=e=>{switch(e){case"CR":return"Critically Endangered";case"EN":return"Endangered";case"VU":return"Vulnerable";case"NT":return"Near Threatened";case"LC":return"Least Concern";case"DD":return"Data Deficient";default:return"Not Evaluated"}},p=e=>{switch(e){case"critical":return"text-red-600 bg-red-100 border-red-200";case"high":return"text-orange-600 bg-orange-100 border-orange-200";case"moderate":return"text-yellow-600 bg-yellow-100 border-yellow-200";case"low":return"text-green-600 bg-green-100 border-green-200";default:return"text-gray-600 bg-gray-100 border-gray-200"}},b=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),v=s.species.speciesList.filter(e=>["CR","EN","VU"].includes(e.conservationStatus));return e.jsxs("div",{className:`space-y-6 ${t}`,children:[e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(i,{className:"h-5 w-5 text-blue-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Biodiversity Summary"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.species.count}),e.jsx("div",{className:"text-sm text-green-700",children:"Identified Species"})]}),e.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg border border-red-200",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:s.species.endangered}),e.jsx("div",{className:"text-sm text-red-700",children:"Threatened Species"})]}),e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.conservationValue.toFixed(0)}),e.jsx("div",{className:"text-sm text-blue-700",children:"Conservation Value"})]}),e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg border border-orange-200",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:s.fireRisk.overall.toFixed(0)}),e.jsx("div",{className:"text-sm text-orange-700",children:"Fire Risk"})]})]}),e.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(r,{className:"h-4 w-4 text-gray-600"}),e.jsxs("span",{className:"font-medium text-gray-900",children:["Ecosystem: ",s.location.ecosystem]})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Data obtained through Microsoft Planetary Computer and satellite analysis. Data confidence: ",(100*s.dataQuality.overallConfidence).toFixed(0),"%."]})]})]}),e.jsxs("div",{className:"card bg-red-50 border-red-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:e.jsx(n,{className:"h-5 w-5 text-red-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-red-900",children:"Endangered Species"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:v.length>0?v.map(a=>e.jsxs("div",{className:"p-3 bg-white rounded-lg border border-red-200 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:a.commonName}),e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${g(a.conservationStatus)}`,children:a.conservationStatus})]}),e.jsx("p",{className:"text-xs text-gray-500 italic mb-2",children:a.scientificName}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Status:"}),e.jsx("span",{className:"font-medium",children:u(a.conservationStatus)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Population:"}),e.jsx("span",{className:"font-medium",children:a.population.toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Habitat:"}),e.jsx("span",{className:"font-medium",children:a.habitat})]})]}),e.jsxs("div",{className:"mt-2 pt-2 border-t border-red-100",children:[e.jsx("span",{className:"text-xs font-medium text-red-700",children:"Main threats:"}),e.jsx("ul",{className:"mt-1 space-y-0.5",children:a.threats.slice(0,2).map((a,s)=>e.jsxs("li",{className:"text-xs text-red-600 flex items-start gap-1",children:[e.jsx("span",{children:"•"})," ",a]},s))})]}),a.imageUrl&&e.jsx("div",{className:"mt-2 h-20 w-full overflow-hidden rounded-md",children:e.jsx("img",{src:a.imageUrl,alt:a.commonName,className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none"}})})]},a.id)):e.jsx("div",{className:"col-span-full p-4 text-center",children:e.jsx("p",{className:"text-red-700",children:"No endangered species detected in this area."})})}),e.jsxs("div",{className:"mt-4 p-3 bg-white rounded-lg border border-red-200",children:[e.jsx("h4",{className:"font-medium text-red-800 mb-2",children:"Impact of Fires on Threatened Species"}),e.jsx("p",{className:"text-sm text-red-700",children:"Wildfires can have a devastating impact on threatened species populations, destroying critical habitats and eliminating food resources. Recovery of these populations can take decades, especially for species with low reproductive rates or high specialization."})]})]}),e.jsxs("div",{className:"flex border-b border-gray-200",children:[e.jsxs("button",{onClick:()=>h("species"),className:"flex items-center gap-2 py-2 px-4 font-medium text-sm "+("species"===x?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"),children:[e.jsx(l,{className:"h-4 w-4"}),"Species"]}),e.jsxs("button",{onClick:()=>h("vegetation"),className:"flex items-center gap-2 py-2 px-4 font-medium text-sm "+("vegetation"===x?"text-green-600 border-b-2 border-green-600":"text-gray-500 hover:text-gray-700"),children:[e.jsx(r,{className:"h-4 w-4"}),"Vegetation"]}),e.jsxs("button",{onClick:()=>h("threats"),className:"flex items-center gap-2 py-2 px-4 font-medium text-sm "+("threats"===x?"text-red-600 border-b-2 border-red-600":"text-gray-500 hover:text-gray-700"),children:[e.jsx(n,{className:"h-4 w-4"}),"Threats"]})]}),"species"===x&&e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Species in the Area"}),e.jsx("div",{className:"space-y-3",children:s.species.speciesList.map(a=>e.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"p-3 bg-gray-50 flex items-center justify-between cursor-pointer",onClick:()=>m(c===a.id?null:a.id),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${g(a.conservationStatus)}`,children:a.conservationStatus}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:a.commonName}),e.jsx("p",{className:"text-xs text-gray-500 italic",children:a.scientificName})]})]}),e.jsx("div",{children:c===a.id?e.jsx(d,{className:"h-5 w-5 text-gray-400"}):e.jsx(o,{className:"h-5 w-5 text-gray-400"})})]}),c===a.id&&e.jsxs("div",{className:"p-4 border-t",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Conservation status:"}),e.jsx("p",{className:`inline-block ml-2 px-2 py-1 rounded-full text-xs font-medium ${g(a.conservationStatus)}`,children:u(a.conservationStatus)})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Estimated population:"}),e.jsxs("p",{className:"text-sm text-gray-900 mt-1",children:[a.population.toLocaleString()," individuals"]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Habitat:"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1",children:a.habitat})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Last observation:"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1",children:b(a.lastObserved)})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Threats:"}),e.jsx("ul",{className:"mt-1 space-y-1",children:a.threats.map((a,s)=>e.jsxs("li",{className:"text-sm text-gray-900 flex items-start gap-2",children:[e.jsx(n,{className:"h-4 w-4 text-orange-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:a})]},s))})]}),a.imageUrl&&e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Image:"}),e.jsx("div",{className:"mt-1 rounded-lg overflow-hidden h-32 bg-gray-100",children:e.jsx("img",{src:a.imageUrl,alt:a.commonName,className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none"}})})]})]})]}),e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(r,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{className:"text-xs text-gray-500",children:["Coordinates: ",a.coordinates.latitude.toFixed(6),", ",a.coordinates.longitude.toFixed(6)]})]})})]})]},a.id))}),e.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(i,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"font-medium text-blue-800",children:"Biodiversity Indices"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700",children:"Species richness:"}),e.jsxs("p",{className:"font-medium text-blue-900",children:[s.species.richness.toFixed(2)," species/km²"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700",children:"Shannon index:"}),e.jsx("p",{className:"font-medium text-blue-900",children:s.species.shannon.toFixed(2)})]})]})]})]})}),"vegetation"===x&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Vegetation Indices"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.vegetation.ndvi.toFixed(2)}),e.jsx("div",{className:"text-sm text-green-700",children:"NDVI"}),e.jsx("div",{className:"text-xs text-green-600",children:"Vegetation Index"})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.vegetation.evi.toFixed(2)}),e.jsx("div",{className:"text-sm text-green-700",children:"EVI"}),e.jsx("div",{className:"text-xs text-green-600",children:"Enhanced Index"})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.vegetation.lai.toFixed(1)}),e.jsx("div",{className:"text-sm text-green-700",children:"LAI"}),e.jsx("div",{className:"text-xs text-green-600",children:"Leaf Area Index"})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.vegetation.fpar.toFixed(2)}),e.jsx("div",{className:"text-sm text-green-700",children:"FPAR"}),e.jsx("div",{className:"text-xs text-green-600",children:"PAR Fraction"})]})]}),e.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Index Interpretation"}),e.jsxs("ul",{className:"space-y-1 text-sm text-gray-700",children:[e.jsxs("li",{children:[e.jsx("span",{className:"font-medium",children:"NDVI:"})," Values close to 1 indicate dense, healthy vegetation. Low values indicate stressed vegetation or bare soil."]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-medium",children:"EVI:"})," Similar to NDVI but with better sensitivity in high biomass areas and less atmospheric influence."]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-medium",children:"LAI:"})," Leaf area per unit of ground surface. High values indicate dense canopy."]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-medium",children:"FPAR:"})," Fraction of photosynthetically active radiation absorbed by vegetation."]})]})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Land Cover"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"space-y-3",children:Object.entries(s.vegetation.landCover).map(([a,s])=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4",children:e.jsx("div",{className:"h-4 rounded-full "+("forest"===a?"bg-green-600":"grassland"===a?"bg-lime-500":"cropland"===a?"bg-yellow-500":"wetland"===a?"bg-blue-500":"urban"===a?"bg-gray-500":"barren"===a?"bg-amber-700":"bg-blue-700"),style:{width:`${s}%`}})}),e.jsxs("span",{className:"ml-3 text-sm font-medium text-gray-900 w-24",children:[a.charAt(0).toUpperCase()+a.slice(1),": ",s.toFixed(1),"%"]})]},a))}),e.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"Forest Characteristics"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700",children:"Biomass:"}),e.jsxs("p",{className:"font-medium text-blue-900",children:[s.vegetation.biomass.toFixed(1)," ton/ha"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700",children:"Canopy height:"}),e.jsxs("p",{className:"font-medium text-blue-900",children:[s.vegetation.canopyHeight.toFixed(1)," m"]})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Fire History"}),e.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg border border-orange-200",children:[s.vegetation.fireHistory.lastBurnDate?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"mb-2",children:[e.jsx("span",{className:"text-sm text-orange-700",children:"Last fire:"}),e.jsx("p",{className:"font-medium text-orange-900",children:b(s.vegetation.fireHistory.lastBurnDate)})]})}):e.jsx("p",{className:"text-sm text-orange-700 mb-2",children:"No records of recent fires in this area."}),e.jsxs("div",{className:"mb-2",children:[e.jsx("span",{className:"text-sm text-orange-700",children:"Fire frequency:"}),e.jsxs("p",{className:"font-medium text-orange-900",children:[s.vegetation.fireHistory.burnFrequency.toFixed(1)," per decade"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-orange-700",children:"Historical severity:"}),e.jsx("p",{className:"font-medium text-orange-900 capitalize",children:s.vegetation.fireHistory.severity})]})]}),e.jsxs("div",{className:"mt-4 p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("h4",{className:"font-medium text-green-800 mb-2",children:"Biodiversity Impact"}),e.jsxs("p",{className:"text-sm text-green-700",children:["Current vegetation shows ",s.vegetation.ndvi>.6?"good health":s.vegetation.ndvi>.4?"moderate health":"signs of stress",".",s.vegetation.ndvi<.4?" Possible impact from drought or recent disturbances.":""]})]})]})]})]})]}),"threats"===x&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Fire Risk"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg border border-red-200 md:col-span-2",children:[e.jsx("div",{className:"text-3xl font-bold text-red-600",children:s.fireRisk.overall.toFixed(0)}),e.jsx("div",{className:"text-sm text-red-700",children:"Overall Risk"}),e.jsx("div",{className:"text-xs mt-1 px-2 py-0.5 rounded-full inline-block "+(j=s.fireRisk.overall,j>=80?"text-red-600 bg-red-100":j>=60?"text-orange-600 bg-orange-100":j>=40?"text-yellow-600 bg-yellow-100":"text-green-600 bg-green-100"),children:s.fireRisk.overall>=80?"EXTREME":s.fireRisk.overall>=60?"HIGH":s.fireRisk.overall>=40?"MODERATE":"LOW"})]}),e.jsxs("div",{className:"md:col-span-3 grid grid-cols-2 md:grid-cols-4 gap-3",children:[e.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-gray-700",children:s.fireRisk.vegetation.toFixed(0)}),e.jsx("div",{className:"text-xs text-gray-600",children:"Vegetation"})]}),e.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-gray-700",children:s.fireRisk.weather.toFixed(0)}),e.jsx("div",{className:"text-xs text-gray-600",children:"Weather"})]}),e.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-gray-700",children:s.fireRisk.topography.toFixed(0)}),e.jsx("div",{className:"text-xs text-gray-600",children:"Topography"})]}),e.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-gray-700",children:s.fireRisk.humanActivity.toFixed(0)}),e.jsx("div",{className:"text-xs text-gray-600",children:"Human Activity"})]})]})]}),e.jsxs("div",{className:"mt-4 p-3 bg-orange-50 rounded-lg border border-orange-200",children:[e.jsx("h4",{className:"font-medium text-orange-800 mb-2",children:"Risk Factors"}),e.jsxs("ul",{className:"space-y-1 text-sm text-orange-700",children:[s.vegetation.ndvi<.4&&e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(n,{className:"h-4 w-4 text-orange-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Stressed vegetation (low NDVI) increases flammability"})]}),s.vegetation.landCover.forest>50&&e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(n,{className:"h-4 w-4 text-orange-600 mt-0.5 flex-shrink-0"}),e.jsxs("span",{children:["High forest density (",s.vegetation.landCover.forest.toFixed(0),"%) increases fuel load"]})]}),s.fireRisk.weather>70&&e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(n,{className:"h-4 w-4 text-orange-600 mt-0.5 flex-shrink-0"}),e.jsxs("span",{children:["Adverse weather conditions (index ",s.fireRisk.weather.toFixed(0),"/100)"]})]}),s.fireRisk.humanActivity>60&&e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(n,{className:"h-4 w-4 text-orange-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"High human activity increases ignition risk"})]})]})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Environmental Threats"}),e.jsx("div",{className:"space-y-3",children:s.threats.map((a,s)=>e.jsxs("div",{className:`p-4 rounded-lg border ${p(a.severity)}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:a.type}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p(a.severity)}`,children:a.severity.toUpperCase()}),e.jsx("span",{className:"text-xs text-gray-500 capitalize",children:a.scope})]})]}),e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:a.description}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Impact:"}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"h-2 rounded-full "+(a.impact>=80?"bg-red-600":a.impact>=60?"bg-orange-600":a.impact>=40?"bg-yellow-600":"bg-green-600"),style:{width:`${a.impact}%`}})}),e.jsxs("span",{className:"text-xs font-medium text-gray-700",children:[a.impact,"/100"]})]})]},s))}),s.protectedAreas.length>0&&e.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"Nearby Protected Areas"}),e.jsx("div",{className:"space-y-2",children:s.protectedAreas.map((a,s)=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-blue-900",children:a.name}),e.jsxs("span",{className:"text-xs text-blue-700 ml-2",children:["(",a.type,")"]})]}),e.jsxs("div",{className:"text-blue-700",children:[a.distance.toFixed(1)," km"]})]},s))})]})]})]}),e.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["Data provided by Microsoft Planetary Computer and Microsoft Biodiversity Data Service",e.jsx("br",{}),"Last update: ",b(s.dataQuality.lastUpdated)]})]});var j};const y=new class{isConfigured=!1;azureFunctionsUrl="https://biodiversity-functions.azurewebsites.net/api";azureBlobStorageUrl="https://biodiversitydata.blob.core.windows.net";azureMLEndpoint="https://biodiversity-ml.azureml.net/api/v1/service";constructor(){this.initialize()}async initialize(){try{this.isConfigured=!0}catch(e){}}async getBiodiversityAssessment(e,a=10){try{j.trackEvent({name:"BiodiversityAssessment.Started",properties:{location:`${e.latitude},${e.longitude}`}});const s=await this.checkCachedResults(e,a);if(s)return s;const t=this.calculateBoundingBox(e,a),[i,r,n,l]=await Promise.all([this.getSpeciesData(e,a),this.getVegetationData(t),this.getProtectedAreas(t),this.getEnvironmentalThreats(e)]),d=this.calculateSpeciesRichness(i,Math.PI*a*a),o=this.calculateShannonIndex(i),c=this.calculateConservationValue(i,r,n),m=this.calculateFireRisk(r,e),x={speciesData:this.assessDataQuality(i.length,10,50),vegetationData:r.ndvi>0?.9:.5,overallConfidence:.85,lastUpdated:(new Date).toISOString()},h={location:{latitude:e.latitude,longitude:e.longitude,ecosystem:this.determineEcosystem(r)},species:{count:i.length,endangered:i.filter(e=>["EN","CR"].includes(e.conservationStatus)).length,endemic:Math.floor(.15*i.length),speciesList:i,richness:d,shannon:o},vegetation:r,protectedAreas:n,threats:l,conservationValue:c,fireRisk:m,dataQuality:x};return await this.cacheResults(e,a,h),j.trackEvent({name:"BiodiversityAssessment.Completed",properties:{speciesCount:i.length.toString(),endangeredCount:h.species.endangered.toString(),conservationValue:c.toString(),fireRisk:m.overall.toString()}}),h}catch(s){return j.trackException({exception:s}),this.getFallbackBiodiversityAssessment(e)}}async checkCachedResults(e,a){try{return null}catch(s){return null}}async cacheResults(e,a,s){}async getSpeciesData(e,a){try{return e.latitude>36&&e.latitude<44&&e.longitude>-9&&e.longitude<4?this.getSpanishSpeciesData(e):this.getGenericSpeciesData(e)}catch(s){return[]}}async getVegetationData(e){try{const a=(e[1]+e[3])/2,s=(e[0]+e[2])/2,t=(new Date).getMonth();let i,r=.5;return r=a>0?t>=3&&t<=8?.6+.3*Math.random():.3+.3*Math.random():t>=9||t<=2?.6+.3*Math.random():.3+.3*Math.random(),i=a>35&&a<45&&s>-10&&s<5?{forest:35+20*Math.random(),grassland:25+15*Math.random(),cropland:15+10*Math.random(),wetland:5+5*Math.random(),urban:10+10*Math.random(),barren:5+5*Math.random(),water:5+5*Math.random()}:{forest:30+20*Math.random(),grassland:20+20*Math.random(),cropland:20+20*Math.random(),wetland:5+10*Math.random(),urban:10+15*Math.random(),barren:5+10*Math.random(),water:5+10*Math.random()},{ndvi:r,evi:.9*r,lai:6*r,fpar:.95*r,landCover:i,biomass:10*i.forest+2*i.grassland,canopyHeight:i.forest>40?15+10*Math.random():5+10*Math.random(),fireHistory:{lastBurnDate:Math.random()>.7?new Date(Date.now()-5*Math.random()*365*24*60*60*1e3).toISOString():void 0,burnFrequency:2*Math.random(),severity:Math.random()>.6?"low":Math.random()>.3?"moderate":"high"}}}catch(a){return{ndvi:.5,evi:.45,lai:3,fpar:.48,landCover:{forest:40,grassland:30,cropland:15,wetland:5,urban:5,barren:3,water:2},biomass:120,canopyHeight:12,fireHistory:{burnFrequency:.5,severity:"low"}}}}async getProtectedAreas(e){try{const a=(e[1]+e[3])/2,s=(e[0]+e[2])/2;return a>36&&a<44&&s>-9&&s<4?this.getSpanishProtectedAreas(a,s):this.getGenericProtectedAreas()}catch(a){return[]}}async getEnvironmentalThreats(e){try{const e=[];return e.push({type:"Wildfire",severity:"high",scope:"regional",impact:75+25*Math.random(),description:"Riesgo elevado de incendios forestales debido a condiciones climáticas y vegetación seca."}),Math.random()>.3&&e.push({type:"Habitat Loss",severity:"high",scope:"regional",impact:60+30*Math.random(),description:"Pérdida de hábitat debido a expansión urbana y cambios en el uso del suelo."}),Math.random()>.5&&e.push({type:"Climate Change",severity:"moderate",scope:"globalThis",impact:50+30*Math.random(),description:"Cambios en patrones climáticos afectando ciclos de vida y distribución de especies."}),Math.random()>.7&&e.push({type:"Invasive Species",severity:Math.random()>.5?"moderate":"high",scope:"local",impact:40+40*Math.random(),description:"Especies invasoras compitiendo con flora y fauna nativa."}),e}catch(a){return[]}}calculateBoundingBox(e,a){const s=1/111,t=a*s,i=a*s/Math.cos(e.latitude*Math.PI/180);return[e.longitude-i,e.latitude-t,e.longitude+i,e.latitude+t]}calculateSpeciesRichness(e,a){return e.length/a}calculateShannonIndex(e){if(0===e.length)return 0;const a=1/e.length;return-e.length*(a*Math.log(a))}assessDataQuality(e,a,s){return e>=s?1:e<=a?.5:.5+(e-a)/(s-a)*.5}determineEcosystem(e){const{landCover:a}=e;return a.forest>60?"Bosque":a.grassland>60?"Pradera":a.wetland>30?"Humedal":a.cropland>50?"Agrícola":a.urban>50?"Urbano":a.water>50?"Acuático":a.barren>50?"Árido":"Mixto"}calculateConservationValue(e,a,s){const t=e.filter(e=>["EN","CR"].includes(e.conservationStatus)).length,i=Math.min(40,2*e.length+5*t),r=Math.min(30,20*a.ndvi+a.landCover.forest/100*15+a.landCover.wetland/100*10),n=Math.min(30,10*s.length);return Math.min(100,i+r+n)}calculateFireRisk(e,a){const s=Math.min(100,50*(1-e.ndvi)+e.landCover.forest/100*30+e.landCover.grassland/100*40+10*e.fireHistory.burnFrequency),t=(new Date).getMonth();let i;i=a.latitude>0?t>=5&&t<=8?70+30*Math.random():30+40*Math.random():t>=11||t<=2?70+30*Math.random():30+40*Math.random();const r=40+60*Math.random(),n=50+50*Math.random(),l=.4*s+.3*i+.15*r+.15*n;return{overall:Math.min(100,l),vegetation:s,weather:i,topography:r,humanActivity:n}}getSpanishSpeciesData(e){return[{id:"species_001",scientificName:"Lynx pardinus",commonName:"Lince Ibérico",kingdom:"Animalia",class:"Mammalia",conservationStatus:"EN",population:1100,habitat:"Bosque mediterráneo",threats:["Pérdida de hábitat","Caza furtiva","Atropellos"],imageUrl:"https://upload.wikimedia.org/wikipedia/commons/thumb/8/8f/Linces19.jpg/800px-Linces19.jpg",lastObserved:new Date(Date.now()-2592e6).toISOString(),coordinates:{latitude:e.latitude+.1*(Math.random()-.5),longitude:e.longitude+.1*(Math.random()-.5)}},{id:"species_002",scientificName:"Aquila adalberti",commonName:"Águila Imperial Ibérica",kingdom:"Animalia",class:"Aves",conservationStatus:"VU",population:450,habitat:"Bosque mediterráneo y dehesas",threats:["Electrocución","Pérdida de hábitat","Envenenamiento"],imageUrl:"https://upload.wikimedia.org/wikipedia/commons/thumb/9/9a/Adalbert%27s_eagle_%28Aquila_adalberti%29.jpg/800px-Adalbert%27s_eagle_%28Aquila_adalberti%29.jpg",lastObserved:new Date(Date.now()-3888e6).toISOString(),coordinates:{latitude:e.latitude+.1*(Math.random()-.5),longitude:e.longitude+.1*(Math.random()-.5)}},{id:"species_003",scientificName:"Quercus suber",commonName:"Alcornoque",kingdom:"Plantae",class:"Magnoliopsida",conservationStatus:"LC",population:1e4,habitat:"Bosque mediterráneo",threats:["Incendios forestales","Sequía","Enfermedades"],imageUrl:"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c9/Quercus_suber_-_Jard%C3%ADn_Bot%C3%A1nico_de_Barcelona_-_Barcelona%2C_Spain_-_DSC09276.JPG/800px-Quercus_suber_-_Jard%C3%ADn_Bot%C3%A1nico_de_Barcelona_-_Barcelona%2C_Spain_-_DSC09276.JPG",lastObserved:new Date(Date.now()-864e6).toISOString(),coordinates:{latitude:e.latitude+.1*(Math.random()-.5),longitude:e.longitude+.1*(Math.random()-.5)}},{id:"species_004",scientificName:"Pinus pinea",commonName:"Pino Piñonero",kingdom:"Plantae",class:"Pinopsida",conservationStatus:"LC",population:15e3,habitat:"Bosque mediterráneo",threats:["Incendios forestales","Sequía","Plagas"],imageUrl:"https://upload.wikimedia.org/wikipedia/commons/thumb/8/89/Pinus_pinea_Jard%C3%ADn_Bot%C3%A1nico_de_Barcelona.JPG/800px-Pinus_pinea_Jard%C3%ADn_Bot%C3%A1nico_de_Barcelona.JPG",lastObserved:new Date(Date.now()-432e6).toISOString(),coordinates:{latitude:e.latitude+.1*(Math.random()-.5),longitude:e.longitude+.1*(Math.random()-.5)}},{id:"species_005",scientificName:"Testudo graeca",commonName:"Tortuga Mora",kingdom:"Animalia",class:"Reptilia",conservationStatus:"VU",population:800,habitat:"Matorral mediterráneo",threats:["Pérdida de hábitat","Incendios forestales","Captura ilegal"],imageUrl:"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f1/Testudo_graeca_graeca_%28Marruecos%29.jpg/800px-Testudo_graeca_graeca_%28Marruecos%29.jpg",lastObserved:new Date(Date.now()-5184e6).toISOString(),coordinates:{latitude:e.latitude+.1*(Math.random()-.5),longitude:e.longitude+.1*(Math.random()-.5)}},{id:"species_006",scientificName:"Gyps fulvus",commonName:"Buitre Leonado",kingdom:"Animalia",class:"Aves",conservationStatus:"LC",population:2500,habitat:"Zonas montañosas y cañones",threats:["Envenenamiento","Colisión con tendidos eléctricos"],imageUrl:"https://upload.wikimedia.org/wikipedia/commons/thumb/9/9d/Gyps_fulvus_-_01.JPG/800px-Gyps_fulvus_-_01.JPG",lastObserved:new Date(Date.now()-1296e6).toISOString(),coordinates:{latitude:e.latitude+.1*(Math.random()-.5),longitude:e.longitude+.1*(Math.random()-.5)}},{id:"species_007",scientificName:"Rosmarinus officinalis",commonName:"Romero",kingdom:"Plantae",class:"Magnoliopsida",conservationStatus:"LC",population:5e4,habitat:"Matorral mediterráneo",threats:["Incendios forestales","Recolección excesiva"],imageUrl:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/eb/Rosmarinus_officinalis_flowers.jpg/800px-Rosmarinus_officinalis_flowers.jpg",lastObserved:new Date(Date.now()-1728e5).toISOString(),coordinates:{latitude:e.latitude+.1*(Math.random()-.5),longitude:e.longitude+.1*(Math.random()-.5)}}]}getGenericSpeciesData(e){return[{id:"species_g001",scientificName:"Quercus robur",commonName:"Roble Común",kingdom:"Plantae",class:"Magnoliopsida",conservationStatus:"LC",population:2e4,habitat:"Bosque templado",threats:["Cambio climático","Enfermedades","Desarrollo urbano"],lastObserved:new Date(Date.now()-2592e6).toISOString(),coordinates:{latitude:e.latitude+.1*(Math.random()-.5),longitude:e.longitude+.1*(Math.random()-.5)}},{id:"species_g002",scientificName:"Vulpes vulpes",commonName:"Zorro Rojo",kingdom:"Animalia",class:"Mammalia",conservationStatus:"LC",population:5e3,habitat:"Diversos hábitats",threats:["Pérdida de hábitat","Caza"],lastObserved:new Date(Date.now()-1296e6).toISOString(),coordinates:{latitude:e.latitude+.1*(Math.random()-.5),longitude:e.longitude+.1*(Math.random()-.5)}},{id:"species_g003",scientificName:"Pinus sylvestris",commonName:"Pino Silvestre",kingdom:"Plantae",class:"Pinopsida",conservationStatus:"LC",population:25e3,habitat:"Bosque de coníferas",threats:["Incendios forestales","Plagas","Tala"],lastObserved:new Date(Date.now()-864e6).toISOString(),coordinates:{latitude:e.latitude+.1*(Math.random()-.5),longitude:e.longitude+.1*(Math.random()-.5)}}]}getSpanishProtectedAreas(e,a){return[{name:"Parque Nacional de Doñana",type:"Parque Nacional",designation:"Parque Nacional, Patrimonio de la Humanidad UNESCO, Sitio Ramsar",iucnCategory:"II",area:543,distance:50+100*Math.random()},{name:"Parque Natural Sierra de Grazalema",type:"Parque Natural",designation:"Parque Natural, Reserva de la Biosfera UNESCO",iucnCategory:"V",area:534,distance:30+70*Math.random()},{name:"Reserva Natural Laguna de Fuente de Piedra",type:"Reserva Natural",designation:"Reserva Natural, Sitio Ramsar",iucnCategory:"IV",area:13.5,distance:20+50*Math.random()}]}getGenericProtectedAreas(){return[{name:"Parque Nacional Genérico",type:"Parque Nacional",designation:"Parque Nacional",iucnCategory:"II",area:500,distance:100+100*Math.random()}]}getFallbackBiodiversityAssessment(e){return{location:{latitude:e.latitude,longitude:e.longitude,ecosystem:"Mixto"},species:{count:10,endangered:2,endemic:1,speciesList:this.getGenericSpeciesData(e),richness:.5,shannon:1.5},vegetation:{ndvi:.5,evi:.45,lai:3,fpar:.48,landCover:{forest:40,grassland:30,cropland:15,wetland:5,urban:5,barren:3,water:2},biomass:120,canopyHeight:12,fireHistory:{burnFrequency:.5,severity:"low"}},protectedAreas:this.getGenericProtectedAreas(),threats:[{type:"Wildfire",severity:"high",scope:"regional",impact:80,description:"Riesgo elevado de incendios forestales debido a condiciones climáticas y vegetación seca."}],conservationValue:65,fireRisk:{overall:70,vegetation:65,weather:80,topography:60,humanActivity:70},dataQuality:{speciesData:.6,vegetationData:.7,overallConfidence:.65,lastUpdated:(new Date).toISOString()}}}getServiceStatus(){return{configured:this.isConfigured,provider:"Microsoft Planetary Computer & Biodiversity Data Service",dataSource:"satellite",lastUpdated:(new Date).toISOString()}}},w=({className:a=""})=>{const s=N.getConfigStatus(),t=[{name:"Azure Maps",enabled:s.azureMaps,icon:"🗺️"},{name:"Cognitive Services",enabled:s.cognitiveServices,icon:"🧠"},{name:"Application Insights",enabled:s.appInsights,icon:"📊"},{name:"Azure Storage",enabled:s.storage,icon:"🗄️"},{name:"Azure Functions",enabled:s.functions,icon:"⚡"}],i=t.filter(e=>e.enabled).length;return e.jsxs("div",{className:`bg-[#0078d4] text-white rounded-lg p-3 ${a}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-6 h-6 bg-white rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-[#0078d4] font-bold text-xs",children:"M"})}),e.jsx("span",{className:"font-semibold",children:"Microsoft Azure"}),e.jsxs("span",{className:"text-xs bg-white text-[#0078d4] px-1.5 rounded-full ml-auto",children:[i,"/",t.length]})]}),e.jsx("div",{className:"space-y-1 text-xs",children:t.map(a=>e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full "+(a.enabled?"bg-green-400":"bg-gray-400")}),e.jsxs("span",{children:[a.icon," ",a.name]})]},a.name))}),e.jsx("div",{className:"mt-2 pt-2 border-t border-blue-400 text-xs text-center",children:"Powered by Microsoft Azure"})]})},S=({children:i})=>{const[r,d]=a.useState(!1),o=s(),b=[{name:"Dashboard",href:"/",icon:h},{name:"Mapa",href:"/map",icon:g},{name:"Alertas",href:"/alerts",icon:n},{name:"Clima",href:"/weather",icon:u},{name:"Biodiversidad",href:"/biodiversity",icon:l},{name:"Configuración",href:"/settings",icon:p}],v=e=>o.pathname===e;return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsxs("header",{className:"bg-white shadow-sm border-b border-gray-200",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-14 sm:h-16",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(c,{className:"h-7 w-7 text-ember-coral fire-icon mr-2"}),e.jsx("h1",{className:"text-lg sm:text-xl font-bold text-ember-navy",children:"IgnisMap"})]}),e.jsx("nav",{className:"hidden md:flex space-x-4 lg:space-x-8",children:b.map(a=>{const s=a.icon;return e.jsxs(t,{to:a.href,className:"flex items-center px-2 py-1.5 rounded-md text-sm font-medium transition-colors "+(v(a.href)?"text-ember-coral bg-ember-50":"text-gray-600 hover:text-ember-burgundy hover:bg-gray-100"),children:[e.jsx(s,{className:"h-4 w-4 mr-1.5"}),a.name]},a.name)})}),e.jsx("button",{className:"md:hidden p-2 rounded-md text-gray-600 hover:text-ember-burgundy hover:bg-gray-100",onClick:()=>d(!r),children:r?e.jsx(m,{className:"h-5 w-5"}):e.jsx(x,{className:"h-5 w-5"})})]})}),r&&e.jsx("div",{className:"md:hidden border-t border-gray-200 bg-white",children:e.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1",children:b.map(a=>{const s=a.icon;return e.jsxs(t,{to:a.href,className:"flex items-center px-3 py-2 rounded-md text-base font-medium transition-colors "+(v(a.href)?"text-ember-coral bg-ember-50":"text-gray-600 hover:text-ember-burgundy hover:bg-gray-100"),onClick:()=>d(!1),children:[e.jsx(s,{className:"h-5 w-5 mr-3"}),a.name]},a.name)})})})]}),e.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:i})]})},M=()=>{const[s,t]=a.useState({latitude:40.4168,longitude:-3.7038}),[i,d]=a.useState(null),[o,c]=a.useState(!0),[m,x]=a.useState(null),[h,g]=a.useState(10);a.useEffect(()=>{u()},[s,h]);const u=async()=>{c(!0),x(null);try{j.trackEvent({name:"BiodiversityAnalysis.Started",properties:{location:`${s.latitude},${s.longitude}`}});const e=await y.getBiodiversityAssessment(s,h);d(e),j.trackEvent({name:"BiodiversityAnalysis.Completed",properties:{speciesCount:e.species.count.toString(),fireRisk:e.fireRisk.overall.toString(),conservationValue:e.conservationValue.toString()}})}catch(e){x("Error loading biodiversity data. Please try again."),j.trackException({exception:e})}finally{c(!1)}},p=()=>{u()};return e.jsx(S,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Biodiversity Analysis"}),e.jsx("p",{className:"text-gray-600",children:"Satellite data from Microsoft Planetary Computer"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:p,disabled:o,className:"flex items-center gap-1 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[e.jsx(b,{className:"h-4 w-4 "+(o?"animate-spin":"")}),"Refresh"]}),e.jsxs("button",{onClick:()=>{if(!i)return;const e=JSON.stringify(i,null,2),a="data:application/json;charset=utf-8,"+encodeURIComponent(e),s=`biodiversity-data-${(new Date).toISOString().split("T")[0]}.json`,t=document.createElement("a");t.setAttribute("href",a),t.setAttribute("download",s),t.click(),j.trackEvent({name:"BiodiversityData.Exported"})},disabled:!i||o,className:"flex items-center gap-1 px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50",children:[e.jsx(v,{className:"h-4 w-4"}),"Export"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[e.jsxs("div",{className:"card",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(r,{className:"h-5 w-5 text-red-600"}),"Location"]}),e.jsxs("form",{onSubmit:e=>{e.preventDefault();const a=new FormData(e.currentTarget),s=parseFloat(a.get("latitude")),i=parseFloat(a.get("longitude"));isNaN(s)||isNaN(i)||t({latitude:s,longitude:i})},className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"latitude",className:"block text-sm font-medium text-gray-700 mb-1",children:"Latitude"}),e.jsx("input",{type:"text",id:"latitude",name:"latitude",defaultValue:s.latitude.toString(),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"longitude",className:"block text-sm font-medium text-gray-700 mb-1",children:"Longitude"}),e.jsx("input",{type:"text",id:"longitude",name:"longitude",defaultValue:s.longitude.toString(),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"radius",className:"block text-sm font-medium text-gray-700 mb-1",children:"Search radius (km)"}),e.jsx("input",{type:"range",id:"radius",name:"radius",min:"1",max:"50",value:h,onChange:e=>g(parseInt(e.target.value)),className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"1 km"}),e.jsxs("span",{children:[h," km"]}),e.jsx("span",{children:"50 km"})]})]}),e.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg",children:"Search"})]})]}),e.jsx(w,{}),e.jsxs("div",{className:"card",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(l,{className:"h-5 w-5 text-green-600"}),"Data Sources"]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Microsoft Planetary Computer:"})," Satellite vegetation data"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Microsoft Biodiversity Data Service:"})," Species data"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Azure Cognitive Services:"})," Image analysis"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Sentinel-2:"})," Vegetation indices (NDVI, EVI)"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Landsat-8:"})," Historical fire analysis"]})]})]})]})]}),e.jsx("div",{className:"lg:col-span-3",children:o?e.jsx("div",{className:"card flex items-center justify-center h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading biodiversity data..."}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Analyzing satellite images from Microsoft Planetary Computer"})]})}):m?e.jsxs("div",{className:"card p-6 bg-red-50 border border-red-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(n,{className:"h-6 w-6 text-red-600"}),e.jsx("h3",{className:"text-lg font-semibold text-red-900",children:"Error"})]}),e.jsx("p",{className:"text-red-700 mb-4",children:m}),e.jsx("button",{onClick:p,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Retry"})]}):i?e.jsx(f,{biodiversityData:i}):e.jsx("div",{className:"card p-6",children:e.jsx("p",{className:"text-gray-600 text-center",children:"No data available. Please start a search."})})})]})]})})};export{M as default};
